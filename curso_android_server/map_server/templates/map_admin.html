<!DOCTYPE html>
<html>
<head>
    <title>Fhacktions Map</title>
<meta charset="UTF-8">
<meta name="description" content="Fhacktions is a mobile MOBA integrated with geolocalization">
<meta name="keywords" content="fhacktions,Geo-Scanner,Game,Map Fhacktions,Geo Scanner,MOBA,geolocalization">
<meta name="author" content="Posibillian Tech">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google" value="notranslate">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="/static/css/leaflet.css" />
<script src="/static/js/leaflet.js"></script>
<link rel="icon" href="static/css/images/icon.jpeg">


<!--<script src="/static/js/spin.js"></script>-->
<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<!--<script src="static/js/jquery.js"></script>-->
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width"/>
    
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
  <script src="/static/js/jsonh.js"></script>
    <!--WEB SOCKET 
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>-->
    <!--CLUSTERING-->
    <link rel="stylesheet" href="/static/css/MarkerCluster.css" />
    <link rel="stylesheet" href="/static/css/MarkerCluster.Default.css" />
    <script type="text/javascript" src=/static/js/leaflet.markercluster.js></script>
    <!--GROUP LAYERS -->
     <script src="static/js/leaflet.groupedlayercontrol.js"></script>
<!-- SITE BAR-->

   <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/leaflet-sidebar.css" />

     <script type="text/javascript" src="/static/js/leaflet-sidebar.js"></script>

<!-- Prune -->
        <script src="static/js/PruneCluster.js"></script>

    <link rel="stylesheet" href="static/css/pruneStyle.css"/>

    <!-- Toolbar-->
     <script src="static/js/leaflet.toolbar.js"></script>
<link rel="stylesheet" href="static/css/leaflet.toolbar.css"/>
<script src="static/js/leaflet.draw.js"></script>
 <link rel="stylesheet" href="static/css/leaflet.draw.css"/>
 <!-- Bootstrap
  <script src="static/js/bootstrap.min.js"></script>
 <link rel="stylesheet" href="static/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="static/css/bootstrap-theme.min.css"/>-->
  <!-- Easy button-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-easybutton@2.0.0/src/easy-button.css">
<script src="https://unpkg.com/leaflet-easybutton@2.0.0/src/easy-button.js"></script>
<!-- TAG LIST BUTTON-->
<link rel="stylesheet" href="static/css/leaflet-tag-filter-button.css" />
<script src="static/js/leaflet-tag-filter-button.js"></script>
<!-- CURRENT POSITION -->
<link rel="stylesheet" href="static/css/L.Control.Locate.min.css" />
<script src="static/js/L.Control.Locate.min.js" charset="utf-8"></script>
<!-- Paint-->
<script src="static/js/MapPaint.js"></script>
<link rel="stylesheet" href="static/css/MapPaint.css" type="text/css" />
 <!--<script src="static/js/MapPaint.js?q={{time.time()}}"></script>
<link rel="stylesheet" href="static/css/MapPaint.css?q={{time.time()}}" type="text/css" />-->

<!--<script src="http://cdn.jquerytools.org/1.2.6/full/jquery.tools.min.js"></script>-->
<!-- Spinner-->
  <script src="static/js/spin.min.js" charset="utf-8"></script>
  <script src="/static/js/leaflet.spin.min.js" charset="utf-8"></script>
  <!-- MAP CSS-->
<link rel="stylesheet" href="static/css/map.css" />
</head>


<body id="body">
  


    <div id="map" class="sidebar-map"></div>

<div id="icon"> 
<img src="static/css/images/logo.png" alt="Logo" ">
</div>

<div id='map'>

    
</div>
   

<script type="text/javascript"  charset="utf-8">
 var map;
   

  
  var api_path="/api/v1";
var HOST = "http://localhost:5000"+api_path;

//var HOST = "http://192.168.1.170:5000"+api_path;
//var HOST = "https://map.fhacktions.com"+api_path;

var pruneCluster_hacked = new PruneClusterForLeaflet();
var Fhacktion_list = []; 

var pruneCluster_premium = new PruneClusterForLeaflet();
var premium_list= [];

var pruneCluster_free = new PruneClusterForLeaflet();
var free_list= [];

var pruneCluster_All = new PruneClusterForLeaflet();
var Fhacktion_list_All = []; 

var  Cluster_premium_no_hacked = new PruneClusterForLeaflet();

var Cluster_serversNoHacked = new PruneClusterForLeaflet();

var cluster_userCreated = new PruneClusterForLeaflet();

var cluster_userNoCreated = new PruneClusterForLeaflet();
//SERVER GROUP
var cluster_basic = new PruneClusterForLeaflet();
var cluster_small = new PruneClusterForLeaflet();
var cluster_medium = new PruneClusterForLeaflet();
var cluster_full = new PruneClusterForLeaflet();
var cluster_tier_premium = new PruneClusterForLeaflet();

var default_point = new L.LatLng(-33.5192755 , -70.6836865 , true);
    



 var mapbox =  L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
        maxZoom: 20, attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy;<a href="https://carto.com/attribution">CARTO</a>'
      });


var cartoLight = L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png", {
  maxZoom: 19,
  minZoom: 2,
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://cartodb.com/attributions">CartoDB</a>'
});


//var marker = L.marker([51.5, -0.09]).addTo(map);
    var c = 1;
    var server_size = 1000;
    var data_free;

    //CLUSTERING
    var cluster_free = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

    var cluster_premium = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

    var premium_no_hacked = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

   var all_hacked  = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
  var free_no_hacked = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

  var group_all = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

  var group_user_created = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_user_no_created = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});

//SERVER GROUP
 var group_basic = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_medium = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_full = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_small = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
  var group_tier_premium = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
//SERVER GROUP
 var group_tier_a = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_tier_b = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_tier_c = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 var group_tier_d= L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: true,
    zoomToBoundsOnClick: true,
    removeOutsideVisibleBounds:true,
    chunkedLoading: true
});
 //SERVER GROUP
var cluster_tier_a = new PruneClusterForLeaflet();
var cluster_tier_b = new PruneClusterForLeaflet();
var cluster_tier_c = new PruneClusterForLeaflet();
var cluster_tier_d = new PruneClusterForLeaflet();


  var group_premium = new L.LayerGroup();
  var group__free_servers = new L.LayerGroup();
  

    
   /* {% for server in servers: %}
      

        var point = new L.LatLng({{server.lat}} ,{{server.lon}}, true);
        var server_marker = L.marker(point, { tags: ['{{server.facc_nombre}}'] });//.addTo(map);

        
        var premium = "{{server.serv_premium}}";
            
        
        if(premium=="True"){
      
        server_marker.bindPopup("<b>Server name: </b>{{server.server_name}}<br><b>User:</b> {{server.usua_usuario}}<br><b>Fhacktion: </b> {{server.facc_nombre}}<br><b> Server type: </b> Premium ").openPopup();//.addTo(group_premium);
               
                
    }else{
       
        server_marker.bindPopup("<b>Server name: </b>{{server.server_name}}<br><b>User:</b> {{server.usua_usuario}}<br><b>Fhacktion: </b> {{server.facc_nombre}}<br><b>Server type: </b> Free").openPopup();//.addTo(group__free_servers);
    }
         if (server_size == c ) {
                
                
            }
            
        c++
    {% endfor %}*/




 map = L.map('map', {
    center: default_point,
    zoom: 2,
    detectRetina: true,
    reuseTiles: true,
    layers: [mapbox, all_hacked]
});


 map.spin(true,{color: "#fff"});


//map.addLayer(cluster);

var baseLayers = {
    "Filter": mapbox
       // "White Hat": cartoLight
};

// Overlay layers are grouped
var groupedOverlays = {
    "Servers Hacked": {
        "All Hacked": all_hacked,
        "Premium": cluster_premium,
        "Normal": cluster_free,
        "Yes": group_user_created,
        "No": group_user_no_created,
        "Both": group_all,
          "Premium Unhacked": premium_no_hacked,
        "Tier A": group_tier_a,
        "Tier B": group_tier_b,
        "Tier C": group_tier_c,
        "Tier D": group_tier_d,
        "All": free_no_hacked
    }
};

//cluster.addTo(map);


var options = {
  // Make the "Landmarks" group exclusive (use radio inputs)
  exclusiveGroups: ["Servers Hacked"],
  // Show a checkbox next to non-exclusive group labels for toggling all
  groupCheckboxes: true
};
// Use the custom grouped layer control, not "L.control.layers"
var layerControl = L.control.groupedLayers(baseLayers, groupedOverlays,options).addTo(map);

//SITEBAR
 //var sidebar = L.control.sidebar('sidebar').addTo(map);



//TOOLBAR
drawnItems = new L.FeatureGroup().addTo(map);
   new L.DrawToolbar.Control({
            position: 'topleft',
            className: 'leaflet-draw-toolbar'
        }).addTo(map);

        new L.EditToolbar.Control({
            position: 'topleft',
            className: 'leaflet-draw-toolbar'
        }).addTo(map, drawnItems);

        map.on('draw:created', function(evt) {
            var type = evt.layerType,
                layer = evt.layer;

            drawnItems.addLayer(layer);
        });




map.on("overlayadd", function(layer) {


if(layer.name=='Premium'){
      
 //destroy( tagf) s
$('.ripple').click();

 


L.Control.TagFilterButton.prototype._invisibles = [];
L.Control.TagFilterButton.prototype._selectedTags = [];



$('.easy-button-container').remove();
if(pruneCluster_premium!=null){
      // console.log('premium removed');
 cluster_premium.removeLayer(pruneCluster_premium);
}
addPruneDataPremium();
        
}
if(layer.name=='All Hacked'){


     $('.ripple').click();
    L.Control.TagFilterButton.prototype._invisibles = [];
    L.Control.TagFilterButton.prototype._selectedTags = [];
   $('.easy-button-container').remove();
   
    if(pruneCluster_hacked!=null){
       // console.log('All Hacked removed');
 all_hacked.removeLayer(pruneCluster_hacked);
}



addPruneDataHacked();


}

if(layer.name=='Normal'){
L.Control.TagFilterButton.prototype._invisibles = [];
L.Control.TagFilterButton.prototype._selectedTags = [];



$('.easy-button-container').remove();
  if(pruneCluster_free!=null){
       //  console.log('free removed');
 cluster_free.removeLayer(pruneCluster_free);
}
        addPruneDataFree();

    }

if(layer.name=='Premium Unhacked'){
$('.easy-button-container').remove();

//document.getElementsByName('leaflet-exclusive-group-layer-1').checked = false;
//unCheckRadioButton("leaflet-exclusive-group-layer-1");
 

}

if(layer.name=='Normal Unhacked'){
$('.easy-button-container').remove();
}

if(layer.name=='Both'){
$('.easy-button-container').remove();
if(pruneCluster_All!=null){
group_all.removeLayer(pruneCluster_All);
}
 addPruneDataAll();
}


if(layer.name=='Yes'){
$('.easy-button-container').remove();
if(cluster_userCreated!=null){
group_user_created.removeLayer(cluster_userCreated);
}
 addPruneDataUser();
}

if(layer.name=='No'){
$('.easy-button-container').remove();
if(cluster_userNoCreated!=null){
group_user_no_created.removeLayer(cluster_userNoCreated);
}
 addPruneDataNoUsers();
}
if(layer.name=='Full' || layer.name=='Medium' || layer.name=='Basic' || layer.name=='Small'|| layer.name=='All '){
$('.easy-button-container').remove();

}



});

map.on('overlayaddchange', function(layer) { 


$('.ripple').click();

});

map.on('baselayerchange', function(layer) { 


});
map.on("overlayremove", function(e) {

});



var prune_data;

 $(document).ready(function () {

 
//SERVER HACKED LIST
   $.ajax({
    url : HOST+'/serversHacked',
    dataType : 'json'
})
.done(function(data) {
  prune_data= data;
    
map.spin(false);
     
 addPruneDataHacked();

});
//PREMIUM NO HACKED
  $.ajax({
    url : HOST+'/premiumUnhacked',
    dataType : 'json'
})
.done(function(data) {
  
    
     var fhacktion;
           var server_type="Premium";
   
   
 
       $.each( data, function( key, val ) {
 
       fhacktion = val.fhacktion
         if(fhacktion==null){
            fhacktion = "none";
            }
       
                 var  marker2 = new PruneCluster.Marker(val.lat,val.lon, { tags: [val.fhacktion] });
     marker2.data.popup = "<b>Server name: </b>" + val.name + "<br> <b>Server Type: </b>" + server_type + "<br><b>Fhacktion: </b>" + fhacktion;
 

  

       Cluster_premium_no_hacked.RegisterMarker(marker2);
 
});
premium_no_hacked.addLayer(Cluster_premium_no_hacked);



});

//FREE NO HACKED
  $.ajax({
    url : HOST+'/serversNoHacked',
    dataType : 'json'
})
.done(function(data) {
  

  data_free =JSONH.parse(JSON.stringify(data))
  var id = "";

  var server_type="";
  var  marker;

  $.each( data_free, function( key, val ) {

    switch (val.y){
      case 1:
      server_type="Tier D";
        marker = new PruneCluster.Marker(val.a,val.o);
      marker.data.popup = "<b>Server name: </b>" + val.n + "<br><b>Server Size: </b>" + server_type;

      cluster_tier_d.RegisterMarker(marker);

      group_tier_d.addLayer(cluster_tier_d);
      break;

      case 2:
      server_type="Tier C";

        marker = new PruneCluster.Marker(val.a,val.o);
      marker.data.popup = "<b>Server name: </b>" + val.n + "<br><b>Server Size: </b>" + server_type;

      cluster_tier_c.RegisterMarker(marker);
      group_tier_c.addLayer(cluster_tier_c);
      break;

      case 3:
      server_type="Tier B";
        marker = new PruneCluster.Marker(val.a,val.o);
      marker.data.popup = "<b>Server name: </b>" + val.n + "<br><b>Server Size: </b>" + server_type;

      cluster_tier_b.RegisterMarker(marker);
      group_tier_b.addLayer(cluster_tier_b);
      break;

     case 4:
      server_type="Tier A";
        marker = new PruneCluster.Marker(val.a,val.o);
      marker.data.popup = "<b>Server name: </b>" + val.n + "<br><b>Server Size: </b>" + server_type;

      cluster_tier_a.RegisterMarker(marker);
      group_tier_a.addLayer(cluster_tier_a);
      break
    }

Cluster_serversNoHacked.RegisterMarker(marker);
free_no_hacked.addLayer(Cluster_serversNoHacked);
    

        });

});


//CARGA TODOS LOS PUNTOS
/*var pruneClusterall = new PruneClusterForLeaflet();
$.getJSON( "static/result2.json", function( data ) {
  var items = [];
  $.each( data, function( key, val ) {
    //items.push( "<li id='" + key + "'>" + val + "</li>" );
    var marker = new PruneCluster.Marker(val.lat, val.lon);

   // marker.filtered = true
pruneClusterall.RegisterMarker(marker);
});
  });

 */
//all.addLayer(pruneCluster);
//group_tier_premium.addLayer(pruneClusterall);

});

    

function destroy(obj) {
    for(var prop in obj){
        var property = obj[prop];
        if(property != null && typeof(property) == 'object') {
            destroy(property);
        }
        else {
            obj[prop] = null;
        }
    }
}

function addPruneDataHacked(){
      var fhacktion;
           var server_type="Normal";
    pruneCluster_hacked = null;
   var id= "";
    pruneCluster_hacked = new PruneClusterForLeaflet();
     var Fhacktion_list= [];
       $.each( prune_data, function( key, val ) {

        if(val.serv_premium==true){
            server_type="Premium";
           
        }else{
             server_type="Normal";
        }

        fhacktion = val.fhacktion
             if(fhacktion==null){
            fhacktion = "none";
            }
    if(val.serv_id!=null){
              id = "<br><b>id:</b> "+val.serv_id;
            }

      var  marker = new PruneCluster.Marker(val.lat,val.lon, { tags: [val.fhacktion] });
     marker.data.popup = "<b>Server name: </b>" + val.name + " " + id +"<br> <b>Server Type: </b>" + server_type + "<br><b>Fhacktion: </b>" + fhacktion;

  
    if(val.fhacktion!=null && !Fhacktion_list.includes(val.fhacktion)){
       
   Fhacktion_list.push(val.fhacktion);
      //  console.log( val.name );
    }
    
    pruneCluster_hacked.RegisterMarker(marker);
    });

all_hacked.addLayer(pruneCluster_hacked);

         L.control.tagFilterButton({
                     data:  Fhacktion_list,
                     filterOnEveryClick: true
                      }).addTo( map ).enablePruneCluster(pruneCluster_hacked);
}


function addPruneDataPremium(){
      var fhacktion;
           var server_type="Premium";
   
   
    pruneCluster_premium = new PruneClusterForLeaflet();
      premium_list= [];
       $.each( prune_data, function( key, val ) {
 if(val.serv_premium==true){
       fhacktion = val.fhacktion
             if(fhacktion==null){
            fhacktion = "none";
            }
       
                 var  marker2 = new PruneCluster.Marker(val.lat,val.lon, { tags: [val.fhacktion] });
     marker2.data.popup = "<b>Server name: </b>" + val.name + "<br> <b>Server Type: </b>" + server_type + "<br><b>Fhacktion: </b>" + fhacktion;
 

  if(val.fhacktion!=null && !premium_list.includes(val.fhacktion)){
        premium_list.push(val.fhacktion);
       }

       pruneCluster_premium.RegisterMarker(marker2);
 }
});

cluster_premium.addLayer(pruneCluster_premium);

         L.control.tagFilterButton({
                     data:  premium_list,
                     filterOnEveryClick: true
                      }).addTo( map ).enablePruneCluster(pruneCluster_premium);
}

function addPruneDataFree(){
     var fhacktion;
           var server_type="Normal";
   
   
    pruneCluster_free = new PruneClusterForLeaflet();
   free_list= [];
       $.each( prune_data, function( key, val ) {
 if(val.serv_premium==false){
       fhacktion = val.fhacktion
         if(fhacktion==null){
            fhacktion = "none";
            }
       
                 var  marker2 = new PruneCluster.Marker(val.lat,val.lon, { tags: [val.fhacktion] });
     marker2.data.popup = "<b>Server name: </b>" + val.name +"<br> <b>Server Type: </b>" + server_type + "<br><b>Fhacktion: </b>" + fhacktion;
 

  if(val.fhacktion!=null && !free_list.includes(val.fhacktion)){
        free_list.push(val.fhacktion);
       }

       pruneCluster_free.RegisterMarker(marker2);
 }
});
cluster_free.addLayer(pruneCluster_free);

         L.control.tagFilterButton({
                     data:  free_list,
                     filterOnEveryClick: true
                      }).addTo( map ).enablePruneCluster(pruneCluster_free);
}

function addPruneDataAll(){
     var fhacktion;
           var server_type="Normal";
            var id = "";
            var user="";
            var fhacktion=""
    pruneCluster_All = new PruneClusterForLeaflet();
   var list_All= [];
   if(prune_data!=null){                  //HACKED
       $.each( prune_data, function( key, val ) {

       fhacktion = val.fhacktion;
       user = val.user;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }


            if(val.serv_id!=null){
               id = "<br><b>id:</b> "+val.serv_id;
            }
         if(val.serv_premium==true){
            server_type="Premium";
          }else{
             server_type="Normal";
          }

       
                 var  marker2 = new PruneCluster.Marker(val.lat,val.lon);
     marker2.data.popup = "<b>Server name: </b>" + val.name + " "+id+"<br><b>Server Size: </b>" +  getServerType(val.sety_id) 
     + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion +"<br><b>Server Type: </b>"+server_type ;
 

       pruneCluster_All.RegisterMarker(marker2);

});
   }
if(data_free!=null){          //NOT HACKED
    $.each( data_free, function( key, val ) {
    fhacktion = val.f;
    user = val.u;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }
     
            if(val.i!=null){
                id = "<br><b>id:</b> "+val.i;
            }
        if(val.p==true){
            server_type="Premium";
          }else{
             server_type="Normal";
          }

             var  marker = new PruneCluster.Marker(val.a,val.o);
 marker.data.popup =  "<b>Server name: </b>" + val.n + " "+id+"<br><b>Server Size: </b>" +  getServerType(val.y) 
  + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion+"<br><b>Server Type: </b>"+server_type ;


  pruneCluster_All.RegisterMarker(marker);

    });

group_all.addLayer(pruneCluster_All);

}

      
}

function addPruneDataUser(){
    //USER CREATED OR NOT
          var fhacktion;
          var server_type="Normal";
          var id = "";
          var user;
          
    z = new PruneClusterForLeaflet();
   var list_All= [];
    if(prune_data!=null){
     $.each( prune_data, function( key, val ) {
       fhacktion = val.fhacktion;
       user = val.user;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }


            if(val.serv_id!=null){
               id = "<br><b>id:</b> "+val.serv_id;
            }
             if(val.serv_id!=null){
                           id = "<br><b>id:</b> "+val.serv_id;
           }

          if(val.serv_premium==true){
            server_type="Premium";
          }else{
             server_type="Normal";
          }

          if(val.serv_owner!=null){
           var  marker_user = new PruneCluster.Marker(val.lat,val.lon);
           marker_user.data.popup =  "<b>Server name: </b>" + val.name + " - "+id+"<br><b>Server Size: </b>" +  getServerType(val.sety_id)
             + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion+"<br><b>Server Type: </b>"+server_type ;

          cluster_userCreated.RegisterMarker(marker_user);
          }
});

}

if(data_free!=null){
    $.each( data_free, function( key, val ) {
        if(val.w!=null){
     user = val.u;
     fhacktion=val.f;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }
           
            if(val.i!=null){
               id = "<br><b>id:</b> "+val.i;
            }
            if(val.p==true){
            server_type="Premium";
             }else{
               server_type="Normal";
             }
          
             var  marker = new PruneCluster.Marker(val.a,val.o);
 marker.data.popup =  "<b>Server name: </b>" + val.n + " - "+id+"<br><b>Server Size: </b>" +  getServerType(val.y) 
   + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion+"<br><b>Server Type: </b>"+server_type ;


  cluster_userCreated.RegisterMarker(marker);

}
    });


group_user_created.addLayer(cluster_userCreated);
}


}
function addPruneDataNoUsers(){
    //USER CREATED OR NOT
           var fhacktion;
           var server_type="Normal";
           var id= "";
           var user;
   
    cluster_userNoCreated = new PruneClusterForLeaflet();
   var list_All= [];
    if(prune_data!=null){
     $.each( prune_data, function( key, val ) {
       fhacktion = val.fhacktion;
       user = val.user;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }

              if(val.serv_premium==true){
            server_type="Premium";
          }else{
             server_type="Normal";
          }
         
    if(val.serv_id!=null){
               id = "<br><b>id:</b> "+val.serv_id;
            }
if(val.serv_owner==null){
 var  marker_user = new PruneCluster.Marker(val.lat,val.lon);
 marker_user.data.popup =  "<b>Server name: </b>" + val.name + " "+id+"<br><b>Server Size: </b>" +  getServerType(val.sety_id)
   + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion +"<br><b>Server Type: </b>"+server_type ;

cluster_userNoCreated.RegisterMarker(marker_user);
}
});

}

if(data_free!=null){
    $.each( data_free, function( key, val ) {
        if(val.w==null){
          user = val.u;
          fhacktion = val.f;
         if(fhacktion==null){
            fhacktion = "none";
            }
        if(user==null){
            user = "none";
            }
           
            if(val.i!=null){
               id = "<br><b>id:</b> "+val.i;
            }
      
            if(val.i!=null){
              id = "<br><b>id:</b> "+val.i;
            }
              if(val.p==true){
            server_type="Premium";
          }else{
             server_type="Normal";
          }



           
             var  marker = new PruneCluster.Marker(val.a,val.o);
 marker.data.popup =  "<b>Server name: </b>" + val.n + " "+id+"<br><b>Server Size: </b>" + getServerType(val.y) 
   + "<br><b>User: </b>" +user + "<br><b>Fhacktion: </b>"+fhacktion+"<br><b>Server Type: </b>"+server_type ;


  cluster_userNoCreated.RegisterMarker(marker);

}
    });


group_user_no_created.addLayer(cluster_userNoCreated);
}


}


function getServerType(val){
  server_type="";
           switch (val){
      case 1:
      server_type="Tier D";
    
 
      break;

      case 2:
      server_type="Tier C";

  
      break;

      case 3:
      server_type="Tier B";
  
      break;

     case 4:
      server_type="Tier A";
 
      break
    }

    return server_type
}


  function unCheckRadioButton(name){
var ele = document.getElementsByName(name);
   for(var i=0;i<ele.length;i++)
      ele[i].checked = false;
  }
   function checkRadioButton(name){
var ele = document.getElementsByName(name);
   //for(var i=0;i<ele.length;i++)
      ele[1].checked = true;
  }

   //CURRENT LOCATION
map.addControl(L.control.locate({
       locateOptions: {
               maxZoom: 17
}}));
//PAINT

   // map.MapPaint.enable();
map.addControl(new MapPaint.SwitchControl());



</script>


<!DOCTYPE html>
<html>
<body>


<select>
  <option value="AF">Afghanistan</option>
  <option value="AX">Åland Islands</option>
  <option value="AL">Albania</option>
  <option value="DZ">Algeria</option>
  <option value="AS">American Samoa</option>
  <option value="AD">Andorra</option>
  <option value="AO">Angola</option>
  <option value="AI">Anguilla</option>
  <option value="AQ">Antarctica</option>
  <option value="AG">Antigua and Barbuda</option>
  <option value="AR">Argentina</option>
  <option value="AM">Armenia</option>
  <option value="AW">Aruba</option>
  <option value="AU">Australia</option>
  <option value="AT">Austria</option>
  <option value="AZ">Azerbaijan</option>
  <option value="BS">Bahamas</option>
  <option value="BH">Bahrain</option>
  <option value="BD">Bangladesh</option>
  <option value="BB">Barbados</option>
  <option value="BY">Belarus</option>
  <option value="BE">Belgium</option>
  <option value="BZ">Belize</option>
  <option value="BJ">Benin</option>
  <option value="BM">Bermuda</option>
  <option value="BT">Bhutan</option>
  <option value="BO">Bolivia, Plurinational State of</option>
  <option value="BQ">Bonaire, Sint Eustatius and Saba</option>
  <option value="BA">Bosnia and Herzegovina</option>
  <option value="BW">Botswana</option>
  <option value="BV">Bouvet Island</option>
  <option value="BR">Brazil</option>
  <option value="IO">British Indian Ocean Territory</option>
  <option value="BN">Brunei Darussalam</option>
  <option value="BG">Bulgaria</option>
  <option value="BF">Burkina Faso</option>
  <option value="BI">Burundi</option>
  <option value="KH">Cambodia</option>
  <option value="CM">Cameroon</option>
  <option value="CA">Canada</option>
  <option value="CV">Cape Verde</option>
  <option value="KY">Cayman Islands</option>
  <option value="CF">Central African Republic</option>
  <option value="TD">Chad</option>
  <option value="CL">Chile</option>
  <option value="CN">China</option>
  <option value="CX">Christmas Island</option>
  <option value="CC">Cocos (Keeling) Islands</option>
  <option value="CO">Colombia</option>
  <option value="KM">Comoros</option>
  <option value="CG">Congo</option>
  <option value="CD">Congo, the Democratic Republic of the</option>
  <option value="CK">Cook Islands</option>
  <option value="CR">Costa Rica</option>
  <option value="CI">Côte d'Ivoire</option>
  <option value="HR">Croatia</option>
  <option value="CU">Cuba</option>
  <option value="CW">Curaçao</option>
  <option value="CY">Cyprus</option>
  <option value="CZ">Czech Republic</option>
  <option value="DK">Denmark</option>
  <option value="DJ">Djibouti</option>
  <option value="DM">Dominica</option>
  <option value="DO">Dominican Republic</option>
  <option value="EC">Ecuador</option>
  <option value="EG">Egypt</option>
  <option value="SV">El Salvador</option>
  <option value="GQ">Equatorial Guinea</option>
  <option value="ER">Eritrea</option>
  <option value="EE">Estonia</option>
  <option value="ET">Ethiopia</option>
  <option value="FK">Falkland Islands (Malvinas)</option>
  <option value="FO">Faroe Islands</option>
  <option value="FJ">Fiji</option>
  <option value="FI">Finland</option>
  <option value="FR">France</option>
  <option value="GF">French Guiana</option>
  <option value="PF">French Polynesia</option>
  <option value="TF">French Southern Territories</option>
  <option value="GA">Gabon</option>
  <option value="GM">Gambia</option>
  <option value="GE">Georgia</option>
  <option value="DE">Germany</option>
  <option value="GH">Ghana</option>
  <option value="GI">Gibraltar</option>
  <option value="GR">Greece</option>
  <option value="GL">Greenland</option>
  <option value="GD">Grenada</option>
  <option value="GP">Guadeloupe</option>
  <option value="GU">Guam</option>
  <option value="GT">Guatemala</option>
  <option value="GG">Guernsey</option>
  <option value="GN">Guinea</option>
  <option value="GW">Guinea-Bissau</option>
  <option value="GY">Guyana</option>
  <option value="HT">Haiti</option>
  <option value="HM">Heard Island and McDonald Islands</option>
  <option value="VA">Holy See (Vatican City State)</option>
  <option value="HN">Honduras</option>
  <option value="HK">Hong Kong</option>
  <option value="HU">Hungary</option>
  <option value="IS">Iceland</option>
  <option value="IN">India</option>
  <option value="ID">Indonesia</option>
  <option value="IR">Iran, Islamic Republic of</option>
  <option value="IQ">Iraq</option>
  <option value="IE">Ireland</option>
  <option value="IM">Isle of Man</option>
  <option value="IL">Israel</option>
  <option value="IT">Italy</option>
  <option value="JM">Jamaica</option>
  <option value="JP">Japan</option>
  <option value="JE">Jersey</option>
  <option value="JO">Jordan</option>
  <option value="KZ">Kazakhstan</option>
  <option value="KE">Kenya</option>
  <option value="KI">Kiribati</option>
  <option value="KP">Korea, Democratic People's Republic of</option>
  <option value="KR">Korea, Republic of</option>
  <option value="KW">Kuwait</option>
  <option value="KG">Kyrgyzstan</option>
  <option value="LA">Lao People's Democratic Republic</option>
  <option value="LV">Latvia</option>
  <option value="LB">Lebanon</option>
  <option value="LS">Lesotho</option>
  <option value="LR">Liberia</option>
  <option value="LY">Libya</option>
  <option value="LI">Liechtenstein</option>
  <option value="LT">Lithuania</option>
  <option value="LU">Luxembourg</option>
  <option value="MO">Macao</option>
  <option value="MK">Macedonia, the former Yugoslav Republic of</option>
  <option value="MG">Madagascar</option>
  <option value="MW">Malawi</option>
  <option value="MY">Malaysia</option>
  <option value="MV">Maldives</option>
  <option value="ML">Mali</option>
  <option value="MT">Malta</option>
  <option value="MH">Marshall Islands</option>
  <option value="MQ">Martinique</option>
  <option value="MR">Mauritania</option>
  <option value="MU">Mauritius</option>
  <option value="YT">Mayotte</option>
  <option value="MX">Mexico</option>
  <option value="FM">Micronesia, Federated States of</option>
  <option value="MD">Moldova, Republic of</option>
  <option value="MC">Monaco</option>
  <option value="MN">Mongolia</option>
  <option value="ME">Montenegro</option>
  <option value="MS">Montserrat</option>
  <option value="MA">Morocco</option>
  <option value="MZ">Mozambique</option>
  <option value="MM">Myanmar</option>
  <option value="NA">Namibia</option>
  <option value="NR">Nauru</option>
  <option value="NP">Nepal</option>
  <option value="NL">Netherlands</option>
  <option value="NC">New Caledonia</option>
  <option value="NZ">New Zealand</option>
  <option value="NI">Nicaragua</option>
  <option value="NE">Niger</option>
  <option value="NG">Nigeria</option>
  <option value="NU">Niue</option>
  <option value="NF">Norfolk Island</option>
  <option value="MP">Northern Mariana Islands</option>
  <option value="NO">Norway</option>
  <option value="OM">Oman</option>
  <option value="PK">Pakistan</option>
  <option value="PW">Palau</option>
  <option value="PS">Palestinian Territory, Occupied</option>
  <option value="PA">Panama</option>
  <option value="PG">Papua New Guinea</option>
  <option value="PY">Paraguay</option>
  <option value="PE">Peru</option>
  <option value="PH">Philippines</option>
  <option value="PN">Pitcairn</option>
  <option value="PL">Poland</option>
  <option value="PT">Portugal</option>
  <option value="PR">Puerto Rico</option>
  <option value="QA">Qatar</option>
  <option value="RE">Réunion</option>
  <option value="RO">Romania</option>
  <option value="RU">Russian Federation</option>
  <option value="RW">Rwanda</option>
  <option value="BL">Saint Barthélemy</option>
  <option value="SH">Saint Helena, Ascension and Tristan da Cunha</option>
  <option value="KN">Saint Kitts and Nevis</option>
  <option value="LC">Saint Lucia</option>
  <option value="MF">Saint Martin (French part)</option>
  <option value="PM">Saint Pierre and Miquelon</option>
  <option value="VC">Saint Vincent and the Grenadines</option>
  <option value="WS">Samoa</option>
  <option value="SM">San Marino</option>
  <option value="ST">Sao Tome and Principe</option>
  <option value="SA">Saudi Arabia</option>
  <option value="SN">Senegal</option>
  <option value="RS">Serbia</option>
  <option value="SC">Seychelles</option>
  <option value="SL">Sierra Leone</option>
  <option value="SG">Singapore</option>
  <option value="SX">Sint Maarten (Dutch part)</option>
  <option value="SK">Slovakia</option>
  <option value="SI">Slovenia</option>
  <option value="SB">Solomon Islands</option>
  <option value="SO">Somalia</option>
  <option value="ZA">South Africa</option>
  <option value="GS">South Georgia and the South Sandwich Islands</option>
  <option value="SS">South Sudan</option>
  <option value="ES">Spain</option>
  <option value="LK">Sri Lanka</option>
  <option value="SD">Sudan</option>
  <option value="SR">Suriname</option>
  <option value="SJ">Svalbard and Jan Mayen</option>
  <option value="SZ">Swaziland</option>
  <option value="SE">Sweden</option>
  <option value="CH">Switzerland</option>
  <option value="SY">Syrian Arab Republic</option>
  <option value="TW">Taiwan, Province of China</option>
  <option value="TJ">Tajikistan</option>
  <option value="TZ">Tanzania, United Republic of</option>
  <option value="TH">Thailand</option>
  <option value="TL">Timor-Leste</option>
  <option value="TG">Togo</option>
  <option value="TK">Tokelau</option>
  <option value="TO">Tonga</option>
  <option value="TT">Trinidad and Tobago</option>
  <option value="TN">Tunisia</option>
  <option value="TR">Turkey</option>
  <option value="TM">Turkmenistan</option>
  <option value="TC">Turks and Caicos Islands</option>
  <option value="TV">Tuvalu</option>
  <option value="UG">Uganda</option>
  <option value="UA">Ukraine</option>
  <option value="AE">United Arab Emirates</option>
  <option value="GB">United Kingdom</option>
  <option value="US">United States</option>
  <option value="UM">United States Minor Outlying Islands</option>
  <option value="UY">Uruguay</option>
  <option value="UZ">Uzbekistan</option>
  <option value="VU">Vanuatu</option>
  <option value="VE">Venezuela, Bolivarian Republic of</option>
  <option value="VN">Viet Nam</option>
  <option value="VG">Virgin Islands, British</option>
  <option value="VI">Virgin Islands, U.S.</option>
  <option value="WF">Wallis and Futuna</option>
  <option value="EH">Western Sahara</option>
  <option value="YE">Yemen</option>
  <option value="ZM">Zambia</option>
  <option value="ZW">Zimbabwe</option>
</select>

  
</body>
</html>

</body>
</html>